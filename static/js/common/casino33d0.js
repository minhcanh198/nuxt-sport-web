"use strict";require([],(function(){document.getElementById("back-to-top").addEventListener("click",(function(){window.scrollTo(0,0)}))})),require(["jquery"],(function(e){e("#instant-games-button").click((function(){e("#instant-games-container").toggle(),e(".instant-arrow").toggleClass("active-section")}))}));var polyfills=[];window.IntersectionObserver||polyfills.push("intersection-observer");const casinoSlider=document.querySelector("#dragable-menu");let casinoStartX,casinoScrollLeft,casinoIsDown=!1;casinoSlider.addEventListener("mousedown",(e=>{casinoIsDown=!0,casinoStartX=e.pageX-casinoSlider.offsetLeft,casinoScrollLeft=casinoSlider.scrollLeft})),casinoSlider.addEventListener("mouseleave",(()=>{casinoIsDown=!1})),casinoSlider.addEventListener("mouseup",(()=>{casinoIsDown=!1})),casinoSlider.addEventListener("mousemove",(e=>{if(!casinoIsDown)return;e.preventDefault();const t=e.pageX-casinoSlider.offsetLeft-casinoStartX;casinoSlider.scrollLeft=casinoScrollLeft-t})),require(["jquery","mustache","utility","localization"].concat(polyfills),(function(e,t,a,r){var o=document.getElementById("casino-data-form"),i=document.getElementById("additional-categories-form"),n=5,s=!1,l={Categories:[],Providers:[],Sort:[]},c={Categories:[],Providers:[],Sort:[]},d=[];const u=new URL(window.location.href).searchParams.get("launch-game");new URL(window.location.href).searchParams.get("force-redirect");u&&(window.innerWidth,window.open("/game-launcher/game/"+u,"popup","width="+window.outerWidth+",height="+window.outerHeight),window.history.pushState({},document.title,"/casino"));var p,m,h,f,g,v,w=document.querySelector(".slider-games .bottom-drawer-border"),y=document.querySelector(".slider-games"),C=document.querySelector("#popup-modal-filter-content"),b=document.querySelector("#popup-modal-filter"),k=!1,P=0,L=0,D=!1;y.addEventListener("touchstart",ke,!1),y.addEventListener("touchend",Pe,!1),y.addEventListener("touchmove",Le,!1),y.addEventListener("mousedown",ke,!1),y.addEventListener("mouseup",Pe,!1),y.addEventListener("mousemove",Le,!1),b.addEventListener("touchstart",ke,!1),b.addEventListener("touchend",Pe,!1),b.addEventListener("touchmove",Le,!1),b.addEventListener("mousedown",ke,!1),b.addEventListener("mouseup",Pe,!1),b.addEventListener("mousemove",Le,!1);var S,G,I,N,E={get Data(){return S},set Data(a){S=a,O(),null!=E.Data&&null!=E.Data.LobbyData.MiniGames&&(E.Data.LobbyData.MiniGames.length>0&&(e("#mini-game-1").attr("src",E.Data.LobbyData.MiniGames[0].LaunchUrl),e("#mini-game-1-div").hide(),e("#mini-game-1").show()),E.Data.LobbyData.MiniGames.length>1?(e("#mini-game-2").attr("src",E.Data.LobbyData.MiniGames[1].LaunchUrl),e("#mini-game-2-div").hide(),e("#mini-game-2").show()):(e("#mini-game-2").parents(".minigame-container").hide(),e("#mini-game-2").parents(".minigame-container").prev().attr("style","margin-right:0px;"))),T(),function(){var a,r=[];for(r=E.Data.LobbyData.Categories,a=0;a<E.Data.LobbyData.Categories.length;a++)j(r,E.Data.LobbyData.Categories[a].Id);r=H(r),r=e.grep(r,(function(e){if("Popularity"!==e.Name&&"Featured Games"!==e.Name&&"Show All"!==e.Name&&"Promotional games"!==e.Name&&"Favorite"!==e.Name&&"LaLiga Slots"!==e.Name)return!0}));var o={Categories:[]},i={Categories:[],Providers:[]};for(a=0;a<r.length;a++){var n=r[a].Name,s={Name:E.Data.CategoryMetadata[n].DisplayName,Value:n};i.Categories.push(s);var d={Name:E.Data.CategoryMetadata[n].DisplayName,Games:E.Data.LobbyData.Games.filter((function(e){return n in e.CategoryOrder}))};d.Games.sort(X),d.Games.length&&o.Categories.push(d)}for(a=0;a<E.Data.LobbyData.Providers.length;a++)s={Name:E.Data.LobbyData.Providers[a].Name,Value:E.Data.LobbyData.Providers[a].Name},i.Providers.push(s);!function(a){var r=e(".category-provider-filter"),o=t.render(g.filterButtonsTemplate,a);r.html(o),e(".popup-body-content .round").click((function(){e(this).find("input").prop("disabled")||e(this).find("input:not(.sorting-options)").prop("checked",(function(e,t){return!t})),(e(this).hasClass("sorting-options")||e(this).hasClass("sort"))&&(e(".sorting-options").prop("checked",!1),e(".round.sort").removeClass("selected-sort"),e(this).addClass("selected-sort"),e(this).find(".sorting-options").prop("checked",!0))})),e(document).on("click",".filter-games",(function(t){history.replaceState(void 0,void 0,window.location.pathname),function(){if(be(),me(),c.Categories=l.Categories,c.Providers=l.Providers,c.Sort=l.Sort,0===l.Categories.length&&0===l.Providers.length)return K(),ee(),c.Categories=[],c.Providers=[],void(c.Sort=[]);ae()}(),e("a.casino-filter-elements").each((function(){e(this).removeClass("selected"),e(".recently-played-container.loaded").hide()})),0===l.Categories.length&&0===l.Providers.length?(e(".casino-filter-item").find('[name="CasinoHome"]').addClass("selected"),e(".recently-played-container.loaded").show()):1===l.Categories.length&&e("a.casino-filter-elements").each((function(){if(l.Categories.includes(e(this).attr("name").toUpperCase()))return e(this).addClass("selected"),!1}))})),e(document).on("click",".clear-modal-filter",(function(e){Q(),ae()})),e("#clear-search").click((function(){e("#games-content").css("display","block"),e("#result-content").css("display","none"),history.replaceState(void 0,void 0,window.location.pathname)})),e('.area[data-filter="false"] div[data-row-category]').each((function(){var t=e(this).attr("data-row-category"),a=e(this).attr("data-row-category").replace(/&nbsp;/g,"."),r=e(this).attr("data-row-category").replace(/&nbsp;/g," ");t&&(e("."+a).parent().hide(),e('a[name="'+r+'"]').parent().hide())})),e("#game-filter-button").click((function(){if(trackEvents("Click - More Filters","Casino home",1,"Casino Section"),ae(),e("#disabled-input").attr("disabled","disabled"),l.Categories=[],l.Providers=[],l.Sort=[],0!==c.Categories.length)for(var t=0;t<c.Categories.length;t++)ye(c.Categories[t]);for(t=0;t<c.Providers.length;t++)we(c.Providers[t]);Ce(c.Sort[0]),me()})),e(".filter-category-button").click((function(){!function(t){null==t&&(t="All Games");var a=e(".filter-category-button");Array.from(a).forEach((function(e){e.value!=t?e.classList.remove("selected-filter"):e.classList.add("selected-filter")}))}(e(this).val())})),e(".filter-provider-button").click((function(){!function(t){null==t&&(t="All Games");var a=e(".filter-provider-button");Array.from(a).forEach((function(e){e.value!=t?e.classList.remove("selected-filter"):e.classList.add("selected-filter")}))}(e(this).val())}))}(i);var u=e("#instant-games-container"),p=t.render(g.instantGames,o);u.html(p),e(".quick-game",u).on("click",(function(e){!function(e){h=0,e.preventDefault();var t=e.target.getAttribute("href");"True"===isAuthenticated||t.includes("demo")?window.open(t,"popup","width="+window.outerWidth+",height="+window.outerHeight):window.location.href=t}(e)}))}(),function(e){var t=new URL(window.location.href).searchParams,a=t.get("provider"),r=t.get("filter"),o=!1;a&&a.split(",").forEach((t=>{var a=e.LobbyData.Providers.find((e=>e.Id.toString()===t));a&&(we(a.Name),Ce("POPULARITY"),o=!0)})),r&&(r=r.replace(/-/g," ").replace(/and/g,"&")).split(",").forEach((t=>{e.CategoryMetadata[t]&&(ye(t),Ce("POPULARITY"),o=!0)})),o&&be()}(S)},get FilterProvider(){return G},set FilterProvider(e){G=e,T()},get Sort(){return I},set Sort(e){I=e,T()},get FilterSearch(){return N},set FilterSearch(e){N=e,O()}};function A(e){e.forEach((function(e){var t=Object.values(e.CategoryOrder)[0];e.CategoryOrder["All Games"]=t}))}function O(){if(E.Data){var a=function(e){if(E.FilterSearch&&E.FilterSearch.length>2){var t=E.FilterSearch.toLowerCase();let a=e.filter((function(e){return-1!==e.Name.toLowerCase().indexOf(t)}));return a.map((function(e){var a=e.Name.toLowerCase().indexOf(t),r=a+t.length;e.NameBold=e.Name.substring(a,r),e.NameFirst=e.Name.substring(0,a),e.NameEnd=e.Name.substring(r,e.Name.length)})),a}return e}(E.Data.LobbyData.Games);e("#resultsCount").html(a.length+" "+games),e("#resultsCountMobile").html(a.length+" "+games_found),a.sort(X);var r={Games:a},o=e("#search-results-container"),i=t.render(g.searchResults,r);document.getElementById("casino-search-box").disabled=!1,o.html(i),e(".game-launch-name[data-url]").click((function(t){t.stopPropagation();var a=e(this).attr("data-url");"True"===isAuthenticated?window.open(a,"popup","width="+window.outerWidth+",height="+window.outerHeight):window.location.href=a}))}}function T(){if(E.Data){e(".casino-replace").each((function(){const a=e(this),r=a.attr("id"),o=a.hasClass("casino-recommended"),i=o?"Recommended - ":"",n=a.closest(".swiper-slide");var s=E.Data.LobbyData.Games.find((e=>e.Id.toString()===r));if(s){var l={Game:s,Recommended:o},c=t.render(g.recentlyPlayedTileTemplate,l);n.addClass("item").attr("data-name",s.Name).attr("data-component-name",`${i}${s.Name}`),n.html(c)}setTimeout((function(){swipers[n.closest(".swiper-container").attr("id")].update()}),1e3)})),e("#recently-played-casino .casino-card-outer").click((function(t){h=0,t.preventDefault();var a=e(this).data("link");"True"===isAuthenticated?window.open(a,"popup","width="+window.outerWidth+",height="+window.outerHeight):window.location.href=a}));var a=function(e){return e.filter((function(e){return(!E.FilterProvider||E.FilterProvider===e.providerId)&&(!E.FilterCategory||E.FilterCategory in e.CategoryOrder)}))}(E.Data.LobbyData.Games);Z(a,"a-z"),a.forEach((function(e){""===E.FilterCategory&&(e.Category=E.Data.CategoryMetadata[ue(e)].DisplayName)}));var r=document.querySelectorAll("[data-row-category]"),o=document.querySelectorAll("[data-row-provider]");for(var i in r)if(r.hasOwnProperty(i)){var n=r[i].getAttribute("data-row-category").split("&nbsp;").join(" ");F(n,24,g.gameCategorySectionTemplate,r[i].getAttribute("id"),z(n))}for(var i in o)o.hasOwnProperty(i)&&F(void 0,24,g.gameCategorySectionTemplate,o[i].getAttribute("id"),"",o[i].getAttribute("data-row-provider"))}e("#disabled-input").removeAttr("disabled")}function F(a,r,o,i,n,s){E.selectedCategory=a;var l=function(e,t,a){var r=0,o=!1;-1===a&&(o=!0);"All Games"===t&&(t=void 0);return E.Data.LobbyData.Games.filter((function(i){if(void 0!==t&&void 0!==e){if(Object.prototype.hasOwnProperty.call(i.CategoryOrder,e)&&(i.ProviderId==t||i.ProviderName===t)&&(r<a||o))return r++,i}else if(void 0!==t){if((i.ProviderId==t||i.ProviderName===t)&&(r<a||o))return r++,i}else if(void 0!==e&&Object.prototype.hasOwnProperty.call(i.CategoryOrder,e)&&(r<a||o))return r++,i}))}(a,s,-1);Z(l,n);var c={Category:a,Games:l.slice(0,r)},d=s;if(isNaN(s)||(d=E.Data.LobbyData.Providers.find((e=>e.Id.toString()===s)).Name),!(c.Games.length>=1))return!1;{r>c.Games.length&&(r=c.Games.length);var u=e("#"+i).prev().find("a span");e(u).text(e(u).text()+" ("+l.length+")"),e(u).parent().attr("data-viewall-category",a),e(u).parent().attr("data-viewall-provider",s),e("#"+i+" .casino-game-placeholder").length&&e("#"+i+" .casino-tiles .swiper-slide").remove();const n=e("#"+i+" .casino-tiles").attr("id"),g=swipers[n];for(var p=0;p<r;p++){var m=c.Games[p];m.Position=e("#"+i).parent().attr("data-modul-position"),m.CategoryOrProviderName=a||d,m.SlideIndex=p+1;var h=t.render(o,c.Games[p]);g.appendSlide(h)}var f=new IntersectionObserver(B);e(".lazyload").each((function(e,t){f.observe(t)}))}var g=e("#"+i);e(".game-card-link",g).on("click",(function(e){x(e)})),e(".bottom-drawer .bottom-drawer-border").on("click",(function(){he("-games",!0)})),e("#mobile-game-modal").on("click",(function(e){e.target===this&&he("-games",!0)}))}function x(a){if(h=0,a.preventDefault(),window.innerWidth<1024){he("-games",!1);var r=function(e){var t=e;for(;t.parentNode;){if(t.dataset.gameId)return+t.dataset.gameId;t=t.parentNode}}(e(a.target)[0]);!function(a){var r=$(a);e(".gallery").length&&(r.Position=!1);var o=r,i=t.render(g.tabletGame,o);e("#mobile-game-container").html(i),e("#mobile-game-modal").show(),fe(),e("#mobile-game-close").click((function(){he("-games",!0)}));var n=e(".drawer-content"),s=t.render(g.mobileGame,o);n.html(s),e(".close-drawer").on("click",(function(){0===e(this).closest("#close-modal-filter").length&&he("-games",!0)}))}(r)}else if(e(a.target).hasClass("btn1")||e(a.target).hasClass("play-button")){var o=a.target.getAttribute("href");"True"===isAuthenticated||o.includes("demo")?window.open(o,"popup","width="+window.outerWidth+",height="+window.outerHeight):window.location.href=o}}function U(t,a){if(t){l.Categories=l.Categories.filter((e=>"ALL GAMES"!==e)),l[a]=l[a].filter((e=>e!==t[a][0]));var r=H(Ge(l))}else{l={Categories:[],Providers:[],Sort:[]},e(".popup-body-content input:checked").each((function(){var t=e(this).attr("data-filter-type");l[t].push(e(this).val().toUpperCase())}));r=H(Ge(l))}return function(t){if(Z(t,e(".popup-body-content input.sorting-options:checked").val()),e("#popularity").prop("checked")){var a=H(d).filter((function(e){if(l.Categories.length<=0){if(l.Providers.includes(e.ProviderName))return!0}else if(l.Providers.length<=0){if(Se(l.Categories,e.CategoryOrder))return!0}else if(l.Providers.includes(e.ProviderName)&&Se(l.Categories,e.CategoryOrder))return!0}));a.sort((function(e,t){return t.CategoryOrder.Popularity-e.CategoryOrder.Popularity}));for(var r=0;r<a.length;r++)t.unshift(a[r]);return H(t)}return t}(r)}!function(){var r=e.ajax({url:o.action,error:a.handleAjaxError,dataType:"json"});if("True"===isAuthenticated){var n=e.ajax({url:i.action,error:a.handleAjaxError,dataType:"json"});e.when(r,n).done((function(e,t){var a=e[0];null!=t[0]&&""!=t[0].Recent&&function(e,t){var a=1;t.forEach((function(t){e.LobbyData.Games.forEach((function(e){t.GameId==e.Id&&(e.IsRecent=!0,e.CategoryOrder.Recent=a++)}))}))}(a,t[0].Recent.RecentGames),A(a.LobbyData.Games),E.Data=a}))}else e.when(r).done((function(e){A(e.LobbyData.Games),E.Data=e}));for(var s in e("#casino-search-box").on("keyup paste",(function(){de(),window.requestAnimationFrame(function(){E.FilterSearch=this.value}.bind(this))})),g={searchResults:e("#search-results-template").html(),gameCategorySectionTemplate:e("#template-game-category-sections").html(),gameFilterSectionTemplate:e("#template-filter-game-sections").html(),instantGames:e("#instant-games-template").html(),recentlyPlayedTileTemplate:e("#recently-played-tile").html(),mobileGame:e("#mobile-game-template-drawer").html(),tabletGame:e("#mobile-game-template").html(),filterButtonsTemplate:e("#template-filter-buttons").html(),activeFiltersTemplate:e("#clear-active-filters").html(),searchMobileHeaderTemplate:e("#search-input-mobile-header").html()})t.parse(g[s]);var l=1;e(".dynamic-content .area").each((function(){"Casino"===e(this).attr("data-component-name")&&this.setAttribute("data-modul-position",l++)}))}();var W={Games:[]},R=0;function q(a){if(pe(!0),W={Games:[]},R=200,E.Data){var r=0,o=5;window.innerWidth<=587?o=2:window.innerWidth>587&&window.innerWidth<1024&&(o=4);for(var i=0,n=0,s=0,l=[],c=(l=a||U()).reduce((function(e,t){return e+(null!=t.CategoryOrder["Featured Games"]&&!0===t.WideImg)}),0),d=[],u=l.length+c*o+50,p=0;p<u/o;p++){d[p]=[];for(var m=0;m<o;m++)d[p][m]=0}for(var h=0;h<l.length;h++){var f=l[h];r>o-1&&s%o==0&&i++,(n%=o)>0&&n--;var v=0,w="";if(o>2&&null!=f.CategoryOrder["Featured Games"]&&!0===f.WideImg)for(var y=0,C=!1;!y;){var b=!1,k=!1;if(v===o&&(i++,n=0,C=!0),(v=n+1)<o&&0===d[i][n]&&0===d[i][v]&&(d[i][n]=f.Id,d[i][v]=f.Id,b=!0),b){var P=i+1;0!==d[P][n]&&0!==d[P][v]||(d[P][n]=f.Id,d[P][v]=f.Id,k=!0)}b||n++,b&&k&&(w="grid-area: "+(i+1)+" / "+(n+1)+" / span 2 / span 2;",y=!0,s++,C&&i--)}else{try{0===d[i][s%o]?(d[i][s%o]=f.Id,w="grid-area: "+(i+1)+" / "+(s%o+1)+" / span 1 / span 1;"):h--}catch(e){console.log("ERROR:"+e+f.Id)}s++}""!==w&&(f.WideImg=!1,w.includes("span 2 / span 2")&&(f.WideImg=!0),f.GridArea=w,f.CategoryName=ue(f),W.Games.push(f)),r++}var L={Games:W.Games.slice(0,R)},D='<div class="area gallery" data-component-name="Casino-Filter-Games">';D+=t.render(g.gameFilterSectionTemplate,L),D+="</div>";const S=e('.area[data-component-name="Casino-Instant"]');S.length?S.before(D):e(".area.applied-filters-section").after(D),M()}}function M(){var t=new IntersectionObserver(B);e(".lazyload-fgames").each((function(e,a){t.observe(a)})),e(".game-card-link").on("click",(function(e){x(e)}))}function B(e,t){e.forEach((function(e){if(e.isIntersecting){var a=e.target;a.src=a.dataset.src,t.unobserve(a)}}))}function j(e,t){Array.prototype.push.apply(e,t)}function H(e){return e.filter((function(e,t,a){return a.indexOf(e)===t}))}function z(e){return function(t,a){return t.CategoryOrder[e]-a.CategoryOrder[e]}}function X(e,t){return e.Name.localeCompare(t.Name)}function Y(e,t){return t.Name.localeCompare(e.Name)}function V(e,t){"Popularity"in e.CategoryOrder?d.push(e):e.Name.localeCompare(t.Name)}function Z(e,t){var a,r;if((r=t)&&"[object Function]"==={}.toString.call(r))a=t;else switch(t){default:a=X;break;case"z-a":a=Y;break;case"popularity":a=V}e.sort(a)}function $(e){if(E.Data&&e){var t=E.Data.LobbyData.Games.filter((function(t){return t.Id===e}));return t.length>0?t[0]:null}}function J(){e(".area.applied-filters").empty(),e(".area.applied-filters-section").show(),e(".area.applied-filters").html(e.unique(e(".round input:checked").parent(":not(.show-all-option)")).clone()),e(".area.applied-filters .round.sort input").attr("disabled",!0);var a=t.render(g.activeFiltersTemplate,"");e(".area.applied-filters").append(a),e(".applied-filters .round.sort").click((function(){me(),ae()})),e(".applied-filters .round:not(.sort)").click((function(){e(this).remove();var t=e(this).find("input").attr("data-filter-type");if(e(this).find("input").attr("class").includes("&")){var a=e(this).find("input").attr("class").split("&")[0];e(".category-provider-filter ."+a).prop("checked",!1),e(".category-provider-filter ."+a).parent().removeClass("selected-provider selected-category")}else{var r=e(this).find("input").attr("class").replace(/ /g,".");e(".category-provider-filter ."+r+":not(span)").prop("checked",!1),e(".category-provider-filter ."+r+":not(span)").parent().removeClass("selected-provider selected-category")}var o=e(this).find("input").attr("value").toUpperCase();e(this).hasClass("selected-category")?(_("Categories",o),l.Categories=c.Categories):e(this).hasClass("selected-provider")&&(_("Providers",o),l.Providers=c.Providers),function(t){"Providers"===t&&(e("#provider-filter .round.show-all-option input").prop("checked",!1),e("#provider-filter .round.show-all-option").removeClass("selected-provider")),"Categories"===t&&(e("#category-filter .round.show-all-option input").prop("checked",!1),e("#category-filter .round.show-all-option").removeClass("selected-category"))}(t),1===l.Categories.length&&e("a.casino-filter-elements").each((function(){if(l.Categories.includes(e(this).attr("name").toUpperCase()))return e(this).addClass("selected"),!1}));var i={Categories:[],Providers:[],Sort:[]};i[t].push(e(this).find("input").val().toUpperCase()),q(U(i,t)),0===c.Categories.length&&0===c.Providers.length&&(c.Categories=[],c.Providers=[],c.Sort=[],K())})),e(".clear-active-filters").click((function(){K(),ee(),ae(),c.Categories=[],c.Providers=[],c.Sort=[],e(".recently-played-container.loaded").show()}))}function _(e,t){for(var a=0;a<c[e].length;a++)c[e][a]==t&&c[e].splice(a,1)}function K(){ee(),e(".area.applied-filters-section").hide(),e(".area.applied-filters").empty(),e(".casino-filter-elements a.selected").toggleClass("selected"),e("#filter-show-all").addClass("selected"),ae()}function Q(){l.Categories=[],l.Providers=[],l.Sort=[],e("#category-sorting input").prop("checked",!1),e(".category-provider-filter input").prop("checked",!1),Ce(),e(".category-provider-filter .round.selected-provider").toggleClass("selected-provider"),e(".category-provider-filter .round.selected-category").toggleClass("selected-category"),e("#category-sorting .round").removeClass("selected-sort"),e("#popularity").parent().addClass("selected-sort"),ae()}function ee(){pe(!1),s=!1,Q()}e(window).scroll((function(){if(e(".gallery").length>0&&e(window).scrollTop()+e(window).height()>=e(".footer-wrapper").offset().top-100&&(R<=W.Games.length||R+100<=W.Games.length)){var a=W.Games.slice(R,R+100);R+=100;var r={Games:a},o=t.render(g.gameFilterSectionTemplate,r);e(".gallery").append(o),M()}})),e("#popup-modal-filter .bottom-drawer-border").click((function(){Q(),me()})),e("#close-modal-filter .close-drawer").click((function(){Q(),me()}));var te=!0;function ae(){te?(te=!1,e("html").css("overflow","hidden")):(te=!0,e("html").css("overflow","auto"))}function re(t,a){for(;t&&t!==document;t=t.parentNode)if(t.matches(a))return e(t).attr("data-modul-position");return-1}e(".mini-game-0 .button").click((function(t){var a=$(e(this).data("game-id"));a&&(trackEvents("Click - "+re(t.target,".area")+" - "+a.Name,"Casino home",1,"Casino Section"),"True"===isAuthenticated?window.open(a.LaunchUrl,"popup","width="+window.outerWidth+",height="+window.outerHeight):window.open(a.LaunchUrlFreePlay,"popup","width="+window.outerWidth+",height="+window.outerHeight))}));const oe=document.getElementById("casino-filter-input-block"),ie=e("#search-results-container"),ne=e("#resultsCount"),se=e("#resultsCountMobile"),le=e("#casino-search-icon");var ce=t.render(g.searchMobileHeaderTemplate,"");function de(){""!==document.getElementById("casino-search-box").value&&document.getElementById("casino-search-box").value.length>2?(e("#casino-filter-input-block").addClass("active"),e("#casino-filter-mobile-wrapper").addClass("active"),ie.addClass("show"),ne.addClass("show"),se.addClass("show"),le.addClass("filter"),e(".search-mobile-header").show()):""!==document.getElementById("casino-search-box").value?(e("#casino-filter-input-block").addClass("active"),e("#casino-filter-mobile-wrapper").addClass("active"),se.addClass("show"),e(".search-mobile-header").show(),le.removeClass("filter"),se.removeClass("show"),ne.removeClass("show"),ie.removeClass("show"),le.addClass("filter"),e(".search-mobile-header").show()):(ie.removeClass("show"),ne.removeClass("show"),se.removeClass("show"),le.removeClass("filter"),e("#casino-filter-input-block").removeClass("active"),e("#casino-filter-mobile-wrapper").removeClass("active"),e(".search-mobile-header").hide())}function ue(e){for(var t=["Hot Games","Slot Games","Scratch Cards","Jackpots","Card & Table","Video Poker","Other Games"],a=0;a<t.length;a++)if(t[a]in e.CategoryOrder)return t[a];return console.log("Game with id = "+e.Id+" does not contain any category from the prioritizedPrimaryCategories!"),""}function pe(t){t?(e(".small-tiles").hide(),e('.area[data-component-name="Casino-Instant"] #instant-games-section').hide(),e(".dynamic-content .area").each((function(){"Casino"===e(this).attr("data-component-name")&&(e(this).hide(),e(this).hasClass("from-desktop-up")&&e(this).attr("style","display:none !important")),"Casino-Filter-Games"===e(this).attr("data-component-name")&&e(this).remove()}))):(e(".small-tiles").show(),e('.area[data-component-name="Casino-Instant"] #instant-games-section').show(),e(".dynamic-content .area").each((function(){"Casino"===e(this).attr("data-component-name")&&(e(this).show(),e(this).hasClass("from-desktop-up")&&e(this).removeAttr("style")),"Casino-Filter-Games"===e(this).attr("data-component-name")&&e(this).remove()})))}function me(){e("#popup-modal-filter").toggleClass("hide"),e("#popup-modal-filter-content").toggleClass("close"),D=!D}function he(t,a){e(".slider"+t).removeAttr("style"),""===t?(e(".bottom-drawer").toggleClass("hide"),e(".slider").toggleClass("close")):a?(e("#mobile-game-modal").hide(),e(".bottom-drawer"+t).addClass("hide"),e(".slider"+t).addClass("close")):(e("#mobile-game-modal").show(),e(".bottom-drawer"+t).removeClass("hide"),e(".slider"+t).removeClass("close")),"-games"!==t||a||fe(),ae()}function fe(){e(".bottom-drawer-games").hasClass("hide")?ve():(ve(),v=setInterval(ge,5e3))}function ge(){for(var t=e(".bottom-drawer-games").find("ul").find("img"),a=e(".mobile-game-content").find("ul").find("img"),r=0;r<t.length;r++)if(e(t[r]).hasClass("active")||e(a[r]).hasClass("active")){if(r+1<t.length){e(t[r+1]).trigger("click"),e(a[r+1]).toggleClass("active"),e(a[r+1]).prev().show();break}e(t[0]).trigger("click"),e(a[0]).toggleClass("active"),e(a[0]).prev().show();break}}function ve(){clearInterval(v)}function we(t){l.Providers.push(t),"ALL GAMES"===t&&(e("#provider-filter .show-all").prop("checked",!0),e("#provider-filter .show-all").parent().addClass("selected-provider")),e("#provider-filter ."+t).prop("checked",!0),e("#provider-filter ."+t).parent().addClass("selected-provider")}function ye(t){0===e('#category-filter input[value="'+t+'"]').length&&(t=t.toLowerCase().replace(/\b\w/g,(function(e){return e.toUpperCase()}))),l.Categories.push(t.toUpperCase()),e('#category-filter input[value="'+t+'"]').prop("checked",!0),e('#category-filter input[value="'+t+'"]').parent().addClass("selected-category")}function Ce(t){var a="";switch(t){case"A-Z":a="a-z";break;case"Z-A":a="z-a";break;default:a="popularity"}l.Sort.push(a.toUpperCase()),e("#category-sorting input").prop("checked",!1),e('input[value="'+a+'"]').prop("checked",!0)}function be(){s=!0,q(U()),J()}function ke(t){D?(w=document.querySelector("#popup-modal-filter .bottom-drawer-border"),y=C):w=document.querySelector(".slider-games .bottom-drawer-border"),t.target.classList.contains("close-drawer")||(D?(e("#popup-modal-filter-content").css("transition","initial"),e("#popup-modal-filter-drawer-border").css("transition","initial")):e(".slider-games").css("transition","initial")),"touchstart"===t.type?(m=t.touches[0].clientX-P,f=t.touches[0].clientY-L):(m=t.clientX-P,f=t.clientY-L),t.target==w&&(k=!0)}function Pe(t){D?(e("#popup-modal-filter-content").css("transition","0.3s"),e("#popup-modal-filter-drawer-border").css("transition","0.3s")):e(".slider-games").css("transition","0.3s"),h>0&&(D?(me(),ae()):he("-games",!0),De(0,0,y),b.style.transform="translate(-50%, -100%)",L=0,h=0,e("#popup-modal-filter-content").css("display",""),e(".slider").removeAttr("style")),k=!1}function Le(e){var t,a;k&&(e.preventDefault(),"touchmove"===e.type?(p=e.touches[0].clientX-m,h=e.touches[0].clientY-f):(p=e.clientX-m,h=e.clientY-f),h<0&&(h=0),P=p,0<(L=h)<400?(De(0,h,y),t=-50,a=h-5,b.style.transform="translate3d("+t+"%, "+a+"px, 0)"):L>400&&(h=0,D?me():he("-games",!0)))}function De(e,t,a){a.style.transform="translate3d("+e+"px, "+t+"px, 0)"}function Se(e,t){var a=[];for(var r in t)a.push(r.toUpperCase());return e.some((e=>a.includes(e)))}function Ge(e){return E.Data.LobbyData.Games.filter((function(t){if(e.Categories.length<=0){if(e.Providers.includes(t.ProviderName))return!0}else if(e.Providers.length<=0){if(Se(e.Categories,t.CategoryOrder))return!0}else if(e.Providers.includes(t.ProviderName)&&Se(e.Categories,t.CategoryOrder))return!0}))}function Ie(e){const t=e.find(".image-item");if(t.length>1){const a=t.first();a.find("img").addClass("active");const r=a.find(".arrow-up");r.length&&r.css("display","block"),e.css("display","flex")}}e(".casino-mobile-dropdown-wrapper").prepend(ce),e(".search-mobile-header").hide(),document.addEventListener("mousedown",(t=>{e.contains(oe,t.target)||(document.getElementById("casino-search-box").value="",de(),ie.removeClass("show"),ne.removeClass("show"),se.removeClass("show"),le.addClass("inactive").removeClass("active"),e("#casino-search-box").removeClass("focused"))})),e("#casino-search-box").focus((function(){le.addClass("active").removeClass("inactive"),de(),e("#casino-search-box").addClass("focused"),e("#casino-filter-input-block").addClass("active"),e("#casino-filter-mobile-wrapper").addClass("active"),e(".search-mobile-header").show()})),e(".search-mobile-header img").click((function(){ie.removeClass("show"),ne.removeClass("show"),se.removeClass("show"),le.removeClass("filter"),e("#casino-filter-input-block").removeClass("active"),e("#casino-filter-mobile-wrapper").removeClass("active"),e(".search-mobile-header").hide()})),le.click((function(){document.getElementById("casino-search-box").value="",de(),document.getElementById("casino-search-box").focus()})),e(document).on("click",".image-list img",(function(t){var a=e(".product-gallery").find(".product-image").find(".active");e(".image-list .active").toggleClass("active"),e(".image-list .arrow-up").hide(),e(t.target).toggleClass("active"),e(t.target).prev().show(),a.attr("src",e(t.target).attr("src")),fe()})),e(document).on("click",".category-filter .round:not(.show-all-option)",(function(){e(this).toggleClass("selected-category"),e(".category-filter .round.show-all-option").find("input").prop("checked")&&(e(".category-filter .round.show-all-option").find("input").prop("checked",!1),e(".category-filter .round.show-all-option").removeClass("selected-category"))})),e(document).on("click",".provider-filter .round:not(.show-all-option)",(function(){e(this).toggleClass("selected-provider"),e(".provider-filter .round.show-all-option").find("input").prop("checked")&&(e(".provider-filter .round.show-all-option").find("input").prop("checked",!1),e(".provider-filter .round.show-all-option").removeClass("selected-provider"))})),e("#popup-modal-filter").click((function(t){e(t.target).hasClass("popup-overlay")&&(Q(),me())})),e(document).on("click",".provider-filter .round:not(.show-all-option) input",(function(){e(this).parent().toggleClass("selected-provider")})),e(document).on("click",".bottom-drawer-games",(function(t){e(t.target).hasClass("bottom-drawer-games")&&he("-games",!0)})),e(document).on("click",".provider-filter .round.show-all-option",(function(t){e(this).find("input").prop("checked")?(e(".provider-filter .round").addClass("selected-provider"),e(".provider-filter .round:not(.show-all-option) input").prop("checked",!0)):(e(".provider-filter .round").removeClass("selected-provider"),e(".provider-filter .round:not(.show-all-option) input").prop("checked",!1))})),e(document).on("click",".category-filter .round.show-all-option",(function(t){e(this).find("input").prop("checked")?(e(".category-filter .round").addClass("selected-category"),e(".category-filter .round:not(.show-all-option) input").prop("checked",!0)):(e(".category-filter .round").removeClass("selected-category"),e(".category-filter .round:not(.show-all-option) input").prop("checked",!1))})),e(".casino-filter-elements a:not(#filter-show-all)").click((function(){c.Categories=[],e(".casino-filter-elements a.selected").toggleClass("selected"),e(this).toggleClass("selected"),l.Categories=[],l.Providers=[],e(".category-provider-filter input").prop("checked",!1),Ce(),e(".category-provider-filter .round.selected-provider").toggleClass("selected-provider"),e(".category-provider-filter .round.selected-category").toggleClass("selected-category"),ye(e(this).attr("name")),be(),e(".recently-played-container.loaded").hide()})),e("#filter-show-all").click((function(){K(),e(".recently-played-container.loaded").show()})),e(".area .view-all-category").click((function(){ye(E.Data.LobbyData.Categories.find((t=>t.Name===e(this).attr("data-viewall-category"))).Name),Ce("POPULARITY"),be(),e("a.casino-filter-elements").each((function(){e(this).removeClass("selected")})),e(".casino-filter-item").find("[name='"+e(this).attr("data-viewall-category")+"']").addClass("selected"),e("html,body").scrollTop(0)})),e(".game-provider-card").click((function(t){l.Providers=[],we(E.Data.LobbyData.Providers.find((t=>t.Id.toString()===e(this).attr("data-kind-id"))).Name.toUpperCase()),Ce("POPULARITY"),be(),e("html,body").scrollTop(0);var a=e(this).attr("data-component-name"),r=a;if(null!=a){var o=E.Data.LobbyData.Providers.find((e=>e.Id==a));null!=o&&(r=o.Name)}trackEvents("Click - "+re(t.target,".area")+" - "+r,"Casino home",1,"Casino Section")})),e(".dynamic-content #specials .poker-tile").click((function(t){var a=e(this).children().first().attr("data-component-name");trackEvents("Click - "+re(t.target,".area")+", Specials, "+a,"Casino home",1,"Casino Section")})),e(document).on("click",".mobile-game-play-buttons a",(function(t){t.stopPropagation();var a=e(this).attr("data-url");"True"===isAuthenticated?window.open(a,"popup","width="+window.outerWidth+",height="+window.outerHeight):window.location.href=a})),e(window).on("resize",(function(){var e=5;window.innerWidth<=587?e=2:window.innerWidth>587&&window.innerWidth<1024&&(e=4),n!=e&&s&&(q(),n=e)})),window.imageItemLoaded=function(t){const a=e(t),r=a.closest(".image-item"),o=a.closest(".image-list");let i=o.data("processed-images");i++,r.css("display","flex"),o.data("processed-images",i),4===i&&Ie(o)},window.imageItemFailed=function(t){const a=e(t),r=a.closest(".image-item"),o=a.closest(".image-list");let i=o.data("processed-images");i++,r.remove(),o.data("processed-images",i),4===i&&Ie(o)}}));