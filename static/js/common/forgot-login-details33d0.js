"use strict";require(["jquery","utility","localization","jquery.validate"],(function(s,e,a){s(".tab-link").click((function(){s(".tab-content").css("display","none"),s(".tab-link").removeClass("selected");var e=s(this).data("tab-name");s("#"+e).css("display","block"),s(this).addClass("selected")})),s("#default-open").click();var o=s(".forgot-password-tab"),r=s(".forgot-username-tab"),t=s("#forgot-username-form"),i=s("#forgot-password-form"),n=!1,l=!1,c=s(".field-info-text-password"),u=s(".field-info-text-username"),d=s(".input-email-password"),f=s(".input-email-username"),p=s(".error-container");s(document).ready((function(){s(t).removeClass("form-valid")}));var m=!1,g=!1;i.submit((function(e){if(e.preventDefault(),l)console.log("Form submit already in progres...");else{if(s(c).css("display","none"),s(p).css("display","none"),!s(i).hasClass("form-valid"))return!1;l=!0,s.post({url:i.attr("action"),data:i.serialize(),success:function(e){l=!1,s(p).css("display","none"),s(p).text(""),"success"===e.Status?(s("#forgot-password-form-page").css("display","none"),s("#forgot-password-success-page").css("display","flex"),s(r).css("display","none"),s(o).removeClass("selected"),s(o).addClass("tab-success")):(s(p).css("display","flex"),s(p).text(e.CurrentError))}})}})),t.submit((function(e){if(e.preventDefault(),n)console.log("Form submit already in progres...");else{if(s(u).css("display","none"),s(p).css("display","none"),!s(t).hasClass("form-valid"))return!1;n=!0,s.post({url:t.attr("action"),data:t.serialize(),success:function(e){n=!1,"success"===e.Status?(s("#forgot-username-form-page").css("display","none"),s("#forgot-username-success-page").css("display","flex"),s(o).css("display","none"),s(r).removeClass("selected"),s(r).addClass("tab-success")):(s(p).css("display","flex"),s(p).text(e.CurrentError))}})}})),s.validator.addMethod("regex",(function(s,e,a){"email"===e.type&&(s=s.toLowerCase());var o=new RegExp(a);return this.optional(e)||o.test(s)})),i.validate({onkeyup:!1,rules:{Email:{required:!0,email:!0,regex:/^[^\s@]+@[^\s@]+\.[^\s@]+$/}},messages:{Email:{required:email_required,email:email_wrongformat,regex:email_wrongformat}}}),t.validate({onkeyup:!1,rules:{Email:{required:!0,email:!0,regex:/^[^\s@]+@[^\s@]+\.[^\s@]+$/}},messages:{Email:{required:email_required,email:email_wrongformat,regex:email_wrongformat}}}),s(".forgot-password-input").focusout((function(){s(p).css("display","none")})),s(".forgot-username-input").focusout((function(){s(p).css("display","none")})),s(".input-email").focusout((function(){s(t).valid()})),s(d).focus((function(){s(d).hasClass("error")||m||(s(c).css("display","flex"),m=!0)})),s(d).focusout((function(){s(c).css("display","none")})),s(f).focus((function(){s(f).hasClass("error")||g||(s(u).css("display","flex"),g=!0)})),s(f).focusout((function(){s(u).css("display","none")})),s("#vip").click((function(){window.open(vipURL,"Popup","location,status,scrollbars,resizable,width=1020, height=763")}))}));